function gotData(e){value=e.val(),name=value.name,lastEdit=value.lastEdit;for(var a=0;a<fieldArray.length;a++)"ofSensor"==fieldArray[a]||"ofHDI"==fieldArray[a]?"none"==value[fieldArray[a]].name.toLowerCase()?valueArray[a]="":valueArray[a]=value[fieldArray[a]].name:valueArray[a]=value[fieldArray[a]];renderReact()}function errData(e){console.error(e)}function updatePart(e,a){var r=value;"ofSensor"==e?r.ofSensor.name=a:"ofHDI"==e?r.ofHDI.name=a:r[e]=a;var t=new Date,o=t.getHours(),n=t.getMinutes(),s=t.getSeconds(),l=t.getDate(),d=t.getMonth()+1,u=t.getFullYear();l<10&&(l="0"+l),d<10&&(d="0"+d),r.lastEdit=d+"-"+l+"-"+u+" "+o+":"+n+":"+s,ref.set(r)}function toAssembled(){if(null!=value){data={currentLocation:"",flipChipBonder:value.flipChipBonder,location:"",name:value.name,ofHDI:value.ofHDI,ofSensor:value.ofSensor,partType:"Assembled Module",processedAt:value.processingAt,status:value.status};var e=database.ref("Assembled Module").push(data);str="Assembled%20Module/",e=e.substring(e.indexOf(str)+str.length),window.location="assembledModuleSummary.html?id="+str}}var id=parent.document.URL.substring(parent.document.URL.indexOf("id=")+3,parent.document.URL.length);database=firebase.database();var ref=database.ref("Bare Module/"+id);ref.on("value",gotData,errData);var lastEdit,name,keyArray=["Processing At","Flip-Chip Bonder","Status","Comprised of Sensor","Comprised of HDI"],valueArray=[],fieldArray=["processingAt","flipChipBonder","status","ofSensor","ofHDI"];